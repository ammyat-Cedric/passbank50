{% extends 'layout.html' %}

{% block title %}
Account
{% endblock title %}

{% block content %}
<h2 class="h2">Current Account Info</h2>
<div class="container">
  <div class="media">
    <div class="media-body">
      <h3 class="h3 test-primary">{{ current_user.username }}</h3>
      <p class="text-primary">{{ current_user.email }}</p>
    </div>
  </div>
</div>

<hr>
<h2 class="h2">Update Account Info</h2>
<div class="container d-flex flex-wrap justify-content-center">
  <form action="{{ url_for('account') }}" , method="POST">
    <div class="form-group mb-3">
      {{ form.username.label(class="form-control-label")}}

      {% if form.username.errors %}
      {{ form.username(class="form-control form-control-lg is-invalid")}}
      <div class="invalid-feedback">
        {% for error in form.username.errors %}
        <span>{{ error }}</span>
        {% endfor %}
      </div>
      {% else %}
      {{ form.username(class="form-control form-control-lg")}}
      {% endif %}
    </div>

    <div class="form-group mb-3">
      {{ form.email.label(class="form-control-label")}}

      {% if form.email.errors %}
      {{ form.email(class="form-control form-control-lg is-invalid")}}
      <div class="invalid-feedback">
        {% for error in form.email.errors %}
        <span>{{ error }}</span>
        {% endfor %}
      </div>
      {% else %}
      {{ form.email(class="form-control form-control-lg")}}
      {% endif %}
    </div>

    <div class="form-group mb-3">
      {{ form.new_password.label(class="form-control-label")}}
      {{ form.new_password(class="form-control form-control-lg")}}
    </div>

    <hr>
    <div class="form-group mb-3">
      {{ form.current_password.label(class="form-control-label")}}
      {{ form.current_password(class="form-control form-control-lg")}}
    </div>

    <div class="form-group mb-3">
      {{ form.submit(class="btn btn-primary")}}
    </div>
  </form>
</div>

<hr>
{% endblock content %}